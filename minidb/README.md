# Емуляція роботи CRUD API на Python

Цей проєкт демонструє реалізацію простої CRUD API згідно архітектурного патерну MVT (Model-View-Template). Проєкт використовує об’єктно-орієнтований підхід для роботи з даними через моделі, контролери для обробки запитів та роутінг для симуляції веб-інтерфейсу.

## Особливості

- **CRUD операції:** Створення, читання, оновлення та видалення даних.
- **Динамічне перемикання баз даних:** Можливість працювати з кількома базами даних (наприклад, `default`, `test`, `sqlite`).
- **Реєстрація моделей через метаклас:** Автоматична реєстрація всіх моделей для подальшого використання.
- **Інтеграція з SQLite:** Можливість використання реальною базою даних SQLite через модуль `sqlite_database.py`.
- **Реалізація реляційних зв’язків:** Підтримка one-to-many та many-to-many зв’язків між даними.
- **Транзакції:** Підтримка транзакцій із комітом та відкатом для забезпечення цілісності даних.
- **Симуляція маршрутизації:** Простий механізм маршрутизації за допомогою декораторів для виклику відповідних контролерів.

## Архітектура

Проєкт побудовано згідно з патерном **MVT**:

- **Model:**  
  Модулі, що містять класи моделей (`BaseModel`, `User`, `Product`), які реалізують операції CRUD та інтегруються з базою даних.

- **View / Controller:**  
  Контролери (`user_controller.py`, `database_controller.py`) відповідають за бізнес-логіку та обробку запитів, викликаючи відповідні методи моделей.

- **Template / Routing:**  
  Модуль `route_decorator.py` симулює роутінг, дозволяючи за допомогою декораторів реєструвати функції-обробники за заданими маршрутами, а `handle_request` – викликати їх із передачею параметрів.

## Структура проєкту

minidb/
├── controllers/
│   ├── user_controller.py          # CRUD логіка для користувача
│   └── database_controller.py      # Перемикання між базами даних
│
├── minidb/
│   ├── database.py                 # Базова in-memory БД
│   ├── database_registry.py        # Глобальний реєстр БД
│   ├── sqlite_database.py          # Адаптер для SQLite
│   ├── table.py                    # Таблиця з полями та рядками
│   ├── column.py                   # Опис колонки таблиці
│   ├── datatypes.py                # Визначення типів даних
│   └── row.py                      # Клас рядка таблиці
│
├── models/
│   └── base_model.py               # Базова модель + приклади моделей (User, Product)
│
├── tests/
│   ├── test_controllers.py                    
│   ├── test_models.py                   
│   ├── test_registry.py                
│   └── tests_database.py                      
│
│
├── route_decorator.py              # Декоратор @route і функція handle_request
├── main.py                         # Точка входу з демонстрацією всієї логіки
└── README.md                       # Інструкція з описом проєкту
